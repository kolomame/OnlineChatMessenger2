# onlinechatmessenger2

このステージでは、クライアントが自分自身でチャットルームをホストし、他の招待された人々がそのルームに参加できるようなチャットメッセンジャーシステムを作成します。クライアントは CLI を通じてサーバとやりとりを行います。ユーザーは自分で新しいチャットルームを作成するか、あるいは既存のチャットルームに名前を指定して参加することができます。また、チャットルームはパスワードで保護されている場合もあり、その際には正確なパスワードを入力しないと参加できません。


内部的な動きとしては、新しいチャットルームを作成するプロセスや既存のチャットルームに参加するためには、最初に TCP 接続が用いられます。サーバは特定の「クライアントトークン」を生成してクライアントに送り、その後 TCP 接続を閉じます。クライアントはこのトークンを持って、UDP を経由してサーバが管理するチャットルームに接続します。そうすることで、チャットルーム内の他のユーザーとコミュニケーションを取ることが可能になります。
